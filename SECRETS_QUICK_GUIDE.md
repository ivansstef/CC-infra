# üîê –®–≤–∏–¥–∫–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –Ø–∫ –¥–æ–¥–∞—Ç–∏ GitHub Secrets

## –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: https://github.com/ivansstef/CC-infra
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Settings** (‚öôÔ∏è —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –º–µ–Ω—é)
3. –í –ª—ñ–≤–æ–º—É –º–µ–Ω—é: **Secrets and variables** ‚Üí **Actions**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∑–µ–ª–µ–Ω—É –∫–Ω–æ–ø–∫—É **New repository secret**

## –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ –∫–æ–∂–µ–Ω Secret

### 1. SERVER_IP

```
Name:  SERVER_IP
Value: [IP –∞–¥—Ä–µ—Å–∞ –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞]
```

–ü—Ä–∏–∫–ª–∞–¥: `203.0.113.1` –∞–±–æ `myserver.example.com`

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

### 2. SSH_USER

```
Name:  SSH_USER
Value: [–≤–∞—à SSH –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á]
```

–ü—Ä–∏–∫–ª–∞–¥: `ubuntu` –∞–±–æ `root`

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

### 3. SSH_PORT (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```
Name:  SSH_PORT
Value: [–≤–∞—à SSH –ø–æ—Ä—Ç]
```

–ü—Ä–∏–∫–ª–∞–¥: `22` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π) –∞–±–æ `2222` (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π)

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –Ø–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞—Ç–∏ - –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –ø–æ—Ä—Ç 22 –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

### 4. SSH_PRIVATE_KEY

```
Name:  SSH_PRIVATE_KEY
Value: [–≤–º—ñ—Å—Ç –≤–∞—à–æ–≥–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ SSH –∫–ª—é—á–∞]
```

**–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏:**

```bash
# Windows (PowerShell)
Get-Content ~\.ssh\id_rsa | clip

# Linux/Mac
cat ~/.ssh/id_rsa | pbcopy
# –∞–±–æ –ø—Ä–æ—Å—Ç–æ
cat ~/.ssh/id_rsa
```

–°–∫–æ–ø—ñ—é–π—Ç–µ **–≤–µ—Å—å** –≤–º—ñ—Å—Ç –≤–∫–ª—é—á–Ω–æ –∑ —Ä—è–¥–∫–∞–º–∏:
```
-----BEGIN OPENSSH PRIVATE KEY-----
...–≤–µ—Å—å –∫–ª—é—á...
-----END OPENSSH PRIVATE KEY-----
```

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

### 5. DOCKER_USERNAME

```
Name:  DOCKER_USERNAME
Value: [–≤–∞—à Docker Hub username]
```

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

### 6. DOCKER_PASSWORD

```
Name:  DOCKER_PASSWORD
Value: [Docker Hub Access Token]
```

**–Ø–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Docker Access Token:**

1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ https://hub.docker.com/
2. Account Settings ‚Üí **Security**
3. **New Access Token**
4. Name: `GitHub Actions`
5. Access permissions: **Read, Write, Delete**
6. **Generate**
7. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑!)

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add secret**

---

## –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö 6 secrets, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫:

```
‚úì SERVER_IP          ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
‚úì SSH_USER           ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
‚úì SSH_PORT           ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
‚úì SSH_PRIVATE_KEY    ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
‚úì DOCKER_USERNAME    ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
‚úì DOCKER_PASSWORD    ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢
```

## –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Actions** tab
2. –û–±–µ—Ä—ñ—Ç—å **Deploy Infrastructure**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Run workflow**
4. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: `http://YOUR_SERVER_IP:8080`

---

## ‚ö° –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É push –≤ `main` (–∑–º—ñ–Ω–∏ –≤ `ansible/`) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –¥–µ–ø–ª–æ–π!

## üÜò –ü—Ä–æ–±–ª–µ–º–∏?

**"Permission denied (publickey)"**

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—é—á –¥–æ–¥–∞–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
ssh-copy-id -i ~/.ssh/id_rsa.pub ubuntu@YOUR_SERVER_IP
```

**"Secret not found"**

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤—Å—ñ 6 secrets –¥–æ–¥–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤ –≤ —ñ–º–µ–Ω–∞—Ö).

**"Connection refused" –∞–±–æ "Connection timed out"**

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ `SSH_PORT` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–æ—Ä—Ç—É –Ω–∞ –≤–∞—à–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ.

---

**–í—Å—ñ secrets –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ?** ‚Üí –°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request —Ç–∞ –∑—Ä–æ–±—ñ—Ç—å merge! üöÄ
