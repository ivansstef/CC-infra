# ‚úÖ Infrastructure Setup Checklist

## –í–∏–∫–æ–Ω–∞–Ω–æ ‚úì

### 1Ô∏è‚É£ –ë–∞–∑–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ Ansible playbook —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ `/ansible`
- [x] –î–æ–¥–∞–Ω–æ —Ä–æ–ª—å "cinema" –∑ –ø–æ–≤–Ω–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ `tasks/main.yml` –∑ —É—Å—ñ–º–∞ –∫—Ä–æ–∫–∞–º–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:
  - [x] –û–Ω–æ–≤–ª–µ–Ω–Ω—è Ubuntu —Å–∏—Å—Ç–µ–º–∏
  - [x] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (git, python3, pip, docker, docker-compose)
  - [x] –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è Cinema Club —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
  - [x] –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è docker-compose.yml –∑ templates
  - [x] –ó–∞–ø—É—Å–∫ docker-compose up -d
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ `ansible/inventory.ini` –∑ placeholder –¥–ª—è [cinema] —Ö–æ—Å—Ç—ñ–≤
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ –æ—Å–Ω–æ–≤–Ω–∏–π playbook `ansible/deploy.yml`

### 2Ô∏è‚É£ Gitleaks
- [x] GitHub Actions workflow `.github/workflows/gitleaks.yml`:
  - [x] –ó–∞–ø—É—Å–∫ –Ω–∞ push
  - [x] –ó–∞–ø—É—Å–∫ –Ω–∞ pull_request
  - [x] –©–æ–¥–µ–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫ (cron)
  - [x] –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: `detect --no-banner --redact --verbose`

### 3Ô∏è‚É£ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ `.gitleaks.toml` –∑ –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ Docker Compose —à–∞–±–ª–æ–Ω `templates/docker-compose.yml.j2`
  - [x] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ Flask –¥–æ–¥–∞—Ç–æ–∫
  - [x] –ï–∫—Å–ø–æ–∑–∏—Ü—ñ—è –ø–æ—Ä—Ç—É 8080
  - [x] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–µ—Ä–µ–∂—É
- [x] –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–∏–π README.md –∑ –æ–ø–∏—Å–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

### 4Ô∏è‚É£ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è CI/CD (–ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ)
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è `.github/workflows/deploy_infra.yml`
  - [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ Ansible playbook
  - [x] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ GitHub Secrets
  - [x] –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ TODO –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è `.github/workflows/deploy_app.yml`
  - [x] –ó–±—ñ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑—É Cinema Club
  - [x] –î–µ–ø–ª–æ–π –Ω–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π —Ö–æ—Å—Ç
  - [x] –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ TODO –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó

### üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ–∞–π–ª–∏
- [x] QUICKSTART.md - —à–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
- [x] –ß–∏—Å—Ç–∏–π YAML –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –≤—ñ–¥—Å—Ç—É–ø–æ–º
- [x] –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–∂–Ω—ñ–π —Å–µ–∫—Ü—ñ—ó
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–Ω–æ—Å–Ω—ñ —à–ª—è—Ö–∏

## –ù–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó (TODO)

### –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –ø–æ–≤–Ω–æ—ó –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó:

1. **GitHub Secrets** (–¥–æ–¥–∞—Ç–∏ –≤ Settings ‚Üí Secrets):
   ```
   SSH_PRIVATE_KEY    - SSH –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
   SERVER_IP          - IP –∞–¥—Ä–µ—Å–∞ —Ü—ñ–ª—å–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   SSH_USER           - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á SSH (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ubuntu)
   DOCKER_USERNAME    - Docker Hub username (–¥–ª—è deploy_app)
   DOCKER_PASSWORD    - Docker Hub password/token (–¥–ª—è deploy_app)
   ```

2. **–õ–æ–∫–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**:
   ```bash
   # 1. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ inventory.ini
   # 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ SSH –¥–æ—Å—Ç—É–ø
   ansible -i ansible/inventory.ini cinema -m ping
   # 3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ playbook
   ansible-playbook -i ansible/inventory.ini ansible/deploy.yml
   ```

3. **–ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ CI/CD pipelines**:
   - –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ TODO —Å–µ–∫—Ü—ñ—ó –≤ deploy_infra.yml
   - –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ TODO —Å–µ–∫—Ü—ñ—ó –≤ deploy_app.yml
   - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ staging —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ

4. **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)**:
   - –î–æ–¥–∞—Ç–∏ Ansible Vault –¥–ª—è —Å–µ–∫—Ä–µ—Ç—ñ–≤
   - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
   - –î–æ–¥–∞—Ç–∏ health checks
   - –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ backup —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é

## –§–∞–π–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ñ

```
CC-infra/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îú‚îÄ‚îÄ gitleaks.yml ‚úÖ         # –ê–∫—Ç–∏–≤–Ω–∏–π
‚îÇ       ‚îú‚îÄ‚îÄ deploy_infra.yml üîú    # –ì–æ—Ç–æ–≤–∏–π –¥–æ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
‚îÇ       ‚îî‚îÄ‚îÄ deploy_app.yml üîú      # –ì–æ—Ç–æ–≤–∏–π –¥–æ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ ansible/
‚îÇ   ‚îú‚îÄ‚îÄ roles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cinema/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tasks/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ main.yml ‚úÖ    # –ü–æ–≤–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ docker-compose.yml.j2 ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ deploy.yml ‚úÖ              # –û—Å–Ω–æ–≤–Ω–∏–π playbook
‚îÇ   ‚îî‚îÄ‚îÄ inventory.ini ‚öôÔ∏è           # –ü–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ .gitleaks.toml ‚úÖ              # –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏
‚îú‚îÄ‚îÄ README.md ‚úÖ                   # –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ QUICKSTART.md ‚úÖ               # –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ CHECKLIST.md ‚úÖ                # –¶–µ–π —Ñ–∞–π–ª
```

## –í–∏–º–æ–≥–∏

- ‚úÖ –¶—ñ–ª—å–æ–≤–∞ –û–°: Ubuntu 22.04
- ‚úÖ –ú–æ–≤–∞: YAML (Ansible + GitHub Actions)
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ CI/CD —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- ‚úÖ –ß–∏—Å—Ç—ñ –≤—ñ–¥—Å—Ç—É–ø–∏ —Ç–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

## –°—Ç–∞—Ç—É—Å

üéâ **–Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!**

- –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- –ë–µ–∑–ø–µ–∫–∞ (Gitleaks): ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞
- CI/CD —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: ‚úÖ –ü—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: ‚úÖ –ü–æ–≤–Ω–∞

**–ì–æ—Ç–æ–≤–æ –¥–æ –¥–µ–ø–ª–æ—é –ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è inventory.ini**
